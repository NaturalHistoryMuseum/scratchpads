<div id="node-221" class="node">



  
  <div class="content clear-block">
    <ul>
<li>Go to 'Administer' &gt; 'Views' and click on 'Add'. </li>
<li>Enter the name (Map1) and description (Distribution map) for the view. </li>
<li>The view type is 'Node'. </li>
<li>Click on 'Next'. </li>
<li>Under 'Filters' click on the plus icon to add a new filter. In the box that opens below choose 'Node' in the drop down menu under 'Groups'. Scroll down, check 'Node: Type' and click on 'Add'. Select the ‘Specimen (DwC 1.2.1)’ node type and click on 'Update'. Click on 'Save'. </li>
</ul>
<p>This means that only content from the ‘specimen' content type is shown in this view. However, to show a distribution map we need to show data from both the specimen and the location content type. Therefore we need to establish a relationship between these content types. </p>
<ul>
<li>Under ‘Relationships’ click on the plus icon, select “Darwincore - Specimen: Darwincore location node” and ‘Add’. Enter the label (Darwincore location node), check " Require this relationship" and update. </li>
<li>Under 'Fields' click on the plus icon to add a field. In the box that opens below choose 'Node' in the drop down menu under 'Groups'. Scroll down, check 'Node: Title' and click on 'Add'. Enter “Title” as label and check 'Link this field to its node'. 'Update'. Add the following other fields: "Darwincore - Specimen: Taxonomic name", "Darwincore - Specimen: Sex", "Location: Latitude" and "Location: Longitude". </li>
<li>Under 'Basic settings' click on Style: 'Unformatted' and change the view style to 'Gmap' and set the ‘Items per page’ to unlimited (number of items to display is “0”). Click on 'Update' after each and 'Save'. </li>
<li>Click on the 'Add display' button, with 'Page' chosen in the drop down box. Under ‘Page settings’ click on Path: 'None', enter the URL (map1) and update. </li>
<li>Save. If you want to check your new view go back to the 'Page' display and click on 'View "Page"' in the upper right corner. You can go back to editing the view by clicking on the light grey '[Edit]' link which appears below the view title when you hover over the page (not the sidebar). From now on you will automatically view the "page" you produce when you click on 'Save'. </li>
<li>We want the user to search for taxon names. To do this we need to add a filter to our page view. Under ‘Filters’ click on the plus icon, choose 'Taxonomy' &gt; 'Taxonomy: Term ID' and select the taxonomic vocabulary (choose one which has specimens connected with it). Click on the 'Override' button and on the ‘Expose’ button so that users can see the filter. Select ‘Unlock operator’, enter the label “Search for: Taxonomic name”, uncheck ‘Force single’ and update. Save. </li>
<li>Try out your new view. You can search for multiple terms when you separate terms with a comma. You can see the distribution for the taxa you select, but you can only see one node (pin) for each locality. Therefore if you select multiple taxa, you will not be able to verify whether one locality has more species than the one showing when you click on the pin. (We hope to improve this soon) </li>
<li>If you want to restrict your map to a certain project, say the species of Iceland, you can add another filter. Choose "(Darwincore location node) Darwincore - Location:  Continent/BodyOfWater ", select 'Continent/BodyOfWater', select "Darwincore location node" as relationship, enter "Europe" as value and update. To make the view work properly you will need to have at least one locality with "Europe" in the continent field. </li>
<li>If you want to adapt the view of your map, you can change the color and size of the pins if you click on the cog icon next to the GMap style (under 'Marker / fallback marker to use:'). </li>
</ul>
<p>For other adaptations you can change the GMap module (on the advanced administration page click on 'GMap' in the site configuration section). However, be aware that this will change all the maps on your site.</p>


  </div>

  <div class="clear-block">
    <div class="meta">
        </div>

      </div>

</div>
